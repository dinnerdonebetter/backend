// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.15.0
// source: households_get_by_id_with_memberships.sql

package generated

import (
	"context"
	"database/sql"
	"time"
)

const GetHouseholdByIDWithMemberships = `-- name: GetHouseholdByIDWithMemberships :many
SELECT
	households.id,
	households.name,
	households.billing_status,
	households.contact_email,
	households.contact_phone,
	households.payment_processor_customer_id,
	households.subscription_plan_id,
	households.time_zone,
	households.created_at,
	households.last_updated_at,
	households.archived_at,
	households.belongs_to_user,
	users.id,
	users.username,
	users.email_address,
	users.avatar_src,
	users.requires_password_change,
	users.password_last_changed_at,
	users.two_factor_secret_verified_at,
	users.service_roles,
	users.user_account_status,
	users.user_account_status_explanation,
	users.birth_day,
	users.birth_month,
	users.created_at,
	users.last_updated_at,
	users.archived_at,
	household_user_memberships.id,
	household_user_memberships.belongs_to_user,
	household_user_memberships.belongs_to_household,
	household_user_memberships.household_roles,
	household_user_memberships.default_household,
	household_user_memberships.created_at,
	household_user_memberships.last_updated_at,
	household_user_memberships.archived_at
FROM households
	JOIN household_user_memberships ON household_user_memberships.belongs_to_household = households.id
	JOIN users ON household_user_memberships.belongs_to_user = users.id
WHERE households.archived_at IS NULL
	AND household_user_memberships.archived_at IS NULL
	AND households.id = $1
`

type GetHouseholdByIDWithMembershipsRow struct {
	CreatedAt_3                  time.Time      `db:"created_at_3"`
	CreatedAt_2                  time.Time      `db:"created_at_2"`
	CreatedAt                    time.Time      `db:"created_at"`
	ArchivedAt                   sql.NullTime   `db:"archived_at"`
	LastUpdatedAt_3              sql.NullTime   `db:"last_updated_at_3"`
	ArchivedAt_2                 sql.NullTime   `db:"archived_at_2"`
	LastUpdatedAt_2              sql.NullTime   `db:"last_updated_at_2"`
	TwoFactorSecretVerifiedAt    sql.NullTime   `db:"two_factor_secret_verified_at"`
	PasswordLastChangedAt        sql.NullTime   `db:"password_last_changed_at"`
	LastUpdatedAt                sql.NullTime   `db:"last_updated_at"`
	ArchivedAt_3                 sql.NullTime   `db:"archived_at_3"`
	BelongsToUser_2              string         `db:"belongs_to_user_2"`
	ID_2                         string         `db:"id_2"`
	Username                     string         `db:"username"`
	EmailAddress                 string         `db:"email_address"`
	Name                         string         `db:"name"`
	BillingStatus                string         `db:"billing_status"`
	TimeZone                     TimeZone       `db:"time_zone"`
	HouseholdRoles               string         `db:"household_roles"`
	ServiceRoles                 string         `db:"service_roles"`
	UserAccountStatus            string         `db:"user_account_status"`
	UserAccountStatusExplanation string         `db:"user_account_status_explanation"`
	BelongsToHousehold           string         `db:"belongs_to_household"`
	BelongsToUser                string         `db:"belongs_to_user"`
	PaymentProcessorCustomerID   string         `db:"payment_processor_customer_id"`
	ContactPhone                 string         `db:"contact_phone"`
	ContactEmail                 string         `db:"contact_email"`
	ID_3                         string         `db:"id_3"`
	ID                           string         `db:"id"`
	SubscriptionPlanID           sql.NullString `db:"subscription_plan_id"`
	AvatarSrc                    sql.NullString `db:"avatar_src"`
	BirthDay                     sql.NullInt16  `db:"birth_day"`
	BirthMonth                   sql.NullInt16  `db:"birth_month"`
	DefaultHousehold             bool           `db:"default_household"`
	RequiresPasswordChange       bool           `db:"requires_password_change"`
}

func (q *Queries) GetHouseholdByIDWithMemberships(ctx context.Context, db DBTX, id string) ([]*GetHouseholdByIDWithMembershipsRow, error) {
	rows, err := db.QueryContext(ctx, GetHouseholdByIDWithMemberships, id)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []*GetHouseholdByIDWithMembershipsRow{}
	for rows.Next() {
		var i GetHouseholdByIDWithMembershipsRow
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.BillingStatus,
			&i.ContactEmail,
			&i.ContactPhone,
			&i.PaymentProcessorCustomerID,
			&i.SubscriptionPlanID,
			&i.TimeZone,
			&i.CreatedAt,
			&i.LastUpdatedAt,
			&i.ArchivedAt,
			&i.BelongsToUser,
			&i.ID_2,
			&i.Username,
			&i.EmailAddress,
			&i.AvatarSrc,
			&i.RequiresPasswordChange,
			&i.PasswordLastChangedAt,
			&i.TwoFactorSecretVerifiedAt,
			&i.ServiceRoles,
			&i.UserAccountStatus,
			&i.UserAccountStatusExplanation,
			&i.BirthDay,
			&i.BirthMonth,
			&i.CreatedAt_2,
			&i.LastUpdatedAt_2,
			&i.ArchivedAt_2,
			&i.ID_3,
			&i.BelongsToUser_2,
			&i.BelongsToHousehold,
			&i.HouseholdRoles,
			&i.DefaultHousehold,
			&i.CreatedAt_3,
			&i.LastUpdatedAt_3,
			&i.ArchivedAt_3,
		); err != nil {
			return nil, err
		}
		items = append(items, &i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}
